(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n(8),s=n.n(r),o=(n(15),n(3)),i=(n(16),function(){return Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("h1",{className:"header__title",children:"Test App"})})}),u=n(2),l=n.n(u),m=n(4),d=function(){var e=Object(m.a)(l.a.mark((function e(t,n){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tzfrontend.herokuapp.com").concat(t),n);case 2:if(c=e.sent){e.next=5;break}throw new Error("".concat(c.status," - ").concat(c.statusText));case 5:return e.next=7,c.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/images/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/images/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(n(18),function(e){var t=e.setIsModalActive,n=e.setImgId,r=Object(a.useState)(null),s=Object(o.a)(r,2),i=s[0],u=s[1];Object(a.useEffect)((function(){j().then((function(e){u(e)}))}),[u]);return Object(c.jsx)("section",{className:"photos",children:Object(c.jsxs)("div",{className:"photos__container",children:[!i&&Object(c.jsx)("div",{className:"photos__error",children:"Loading... Please wait or try to reload."}),i&&Object(c.jsx)("div",{className:"photos__grid",children:i.map((function(e){return Object(c.jsx)("div",{className:"photo__card",children:Object(c.jsx)("img",{className:"photos__photo",src:e.src,alt:"nature",onClick:function(){return c=e.image_id,t(!0),void n(c);var c}})},e.image_id)}))})]})})}),h=n(9),f=(n(19),function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/comments/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=function(){var e=Object(m.a)(l.a.mark((function e(t,n,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(a={name:t,description:n,image_id:c},d("/comments/add/",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(a)})));case 1:case"end":return e.stop()}var a}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),x=function(e){var t=e.isModalActive,n=e.setIsModalActive,r=e.imgId,s=Object(a.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1],m=Object(a.useState)([]),d=Object(o.a)(m,2),j=d[0],p=d[1],x=Object(a.useState)(""),v=Object(o.a)(x,2),_=v[0],N=v[1],g=Object(a.useState)(""),w=Object(o.a)(g,2),y=w[0],k=w[1];Object(a.useEffect)((function(){r&&(b(r).then((function(e){l(e)})),f(r).then((function(e){p(e)})))}),[r,l]);var I=function(e){var t=e.target,n=t.name,c=t.value;"name"===n?N(c):"comment"===n&&k(c)};return Object(c.jsx)(c.Fragment,{children:t&&Object(c.jsx)("div",{className:"modal",children:Object(c.jsxs)("div",{className:"modal__container",children:[Object(c.jsxs)("div",{className:"modal__info",children:[Object(c.jsx)("img",{className:"modal__photo",src:u.src,alt:"nature"}),Object(c.jsxs)("form",{className:"modal__form",onSubmit:function(e){e.preventDefault(),O(_,y,r),p([].concat(Object(h.a)(j),[{name:_,description:y,image_id:r}])),N(""),k("")},children:[Object(c.jsx)("label",{htmlFor:"name",children:Object(c.jsx)("input",{className:"modal__input",type:"text",id:"name",name:"name",value:_,placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:I})}),Object(c.jsx)("label",{htmlFor:"comment",children:Object(c.jsx)("input",{className:"modal__input",type:"text",id:"comment",name:"comment",value:y,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u0442\u0430\u0440\u0438\u0439",onChange:I})}),Object(c.jsx)("button",{className:"modal__button",type:"submit",children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})]}),j&&Object(c.jsx)("div",{className:"modal__comments",children:j.map((function(e){return Object(c.jsxs)("div",{className:"modal__comment",children:[Object(c.jsx)("p",{className:"modal__name",children:e.name}),Object(c.jsx)("p",{className:"modal__text",children:e.description})]},e.id)}))}),Object(c.jsxs)("button",{className:"modal__close",type:"button",onClick:function(){n(!t)},children:[Object(c.jsx)("div",{className:"modal__line-right"}),Object(c.jsx)("div",{className:"modal__line-left"})]})]})})})},v=(n(20),function(){return Object(c.jsx)("footer",{className:"footer",children:"\xa9 2018 - 2019"})}),_=(n(21),function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),u=Object(o.a)(s,2),l=u[0],m=u[1];return Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)("div",{className:"content__container",children:[Object(c.jsx)(i,{}),Object(c.jsx)(p,{setIsModalActive:r,setImgId:m}),Object(c.jsx)(x,{isModalActive:n,imgId:l,setIsModalActive:r}),Object(c.jsx)(v,{})]})})});s.a.render(Object(c.jsx)(_,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.a71c7e42.chunk.js.map